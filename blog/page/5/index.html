
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>The command line</title>
  <meta name="author" content="Miguel Cobá">

  
  <meta name="description" content="Although I was using Debian Lenny for several months now, without a single problem I must say, it is always good to see an official release of Debian &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://miguelcoba.github.io/blog/page/5">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="The command line" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">The command line</a></h1>
  
    <h2>GNU/Linux, web development and some other things</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:miguelcoba.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/02/15/debian-gnulinux-50-lenny-released/">Debian GNU/Linux 5.0 Lenny Released</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-02-15T00:00:00-06:00" pubdate data-updated="true">Feb 15<span>th</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content">Although I was using Debian Lenny for several months now, without a single problem I must say, it is always good to see an official release of <a title="Debian" href="www.debian.org">Debian</a>.

Today Debian GNU/Linux 5.0 Lenny was <a title="Debian 5.0 released" href="http://www.debian.org/News/2009/20090214">released</a>.

Now, to upgrade my clients&#8217; servers, as for mines are already on Lenny.
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/01/02/vacaciones-2/">Vacaciones</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-01-02T00:00:00-06:00" pubdate data-updated="true">Jan 2<span>nd</span>, 2009</time>
        
      </p>
    
  </header>


  <div class="entry-content">Las vacaciones vinieron y se fueron. Dejaron recuerdos, alegrías, asombro, festejos y cansancio. Va el relato:

Todo comenzó el viernes 19 de diciembre. No, más bien, todo comenzó el jueves 18, con mucho trabajo pendiente aún antes de poder irme sin preocupaciones. Después de salir tarde del trabajo, tratando de avanzar lo más posible, me resigné y preferí llegar el viernes muy temprano para terminarlo, sobre todo porque de todas maneras debía yo ir el viernes. Además, ya era hora de llegar a la casa para la cena con Álvaro. Pasé a comprar las botellas de vino para acompañar al fettuccine con salmón que Aline iba a preparar y Álvaro a aprender. La cena estuvo deliciosa como siempre y el vino no se quedó atrás. Nos pusimos a platicar mientras duró la botella y aún nos faltaba poner nuestra maleta. Luego de que Álvaro se retiró, comenzamos a preparar la maleta porque el viernes nuestro vuelo partía a las 2:45 pm. Pero además yo tenía que terminar otro documento para otro proyecto que traigo, por lo que después de terminar con los preparativos para el viaje, me puse a trabajar. Me dormí a las 3:30 am y me levanté a las 6 am. Tratando de verle el lado bueno, ya que ese día era el día que comenzaban las vacaciones, llegué a la oficina a las 7 am a terminar las cosas que dejé pendientes el día anterior. Salí a las 11 am y regresé a la casa. Preparamos la maleta, bañamos a Tristán, revisamos la lista de pendientes y cuando vimos que ya no nos faltaba nada, desayunamos. Tomamos el taxi y nos dirigimos al aeropuerto: dos largas horas de espera, hacer fila para documentar las maletas, Tristán feliz corriendo por todos los lugares a donde no está permitido pasar, comer comida carísima en el aeropuerto; lo normal en estos casos. Abordamos. Tratamos de mantener despierto a Tristán para que viera el avión pero media hora antes de subir cayó rendido. Cuando abordamos el avión lo desperté rápido para que viera el avión (le encantan) pensando que se dormiría nuevamente. Pues no. Se fue todo el vuelo (dos horas) despierto. El problema no es que estuviera despierto, sino que no hubo manera de convencerlo de estarse quieto y no echarse a correr por los pasillos. ¡Toda una hazaña! Al fin, y a pesar de todos los pronósticos en contra, llegamos a Cancún sin que Tristán hiciera del avión su patio de juegos.

Yo no nací para climas cálidos. Prefiero soportar el frío que aguantar el calor. Ya me había hecho a la idea de que me la iba a pasar con la ropa empapada de sudor y pegada al cuerpo. No fue tanto, aunque si es notable el cambio de clima. Nunca había ido al sureste mexicano. Todo mundo me hablaba maravillas de él. Además, tenía un interés especial por conocer <a href="http://en.wikipedia.org/wiki/Coba">Cobá</a>. Hasta bromeaba diciendo que me iba a llevar mi banderita para ir a reclamar el legado de mis antepasados. Pues al fin estaba allá. Llegamos a las 5:30 pm y ya estaba oscureciendo. Esa noche solamente tuvimos tiempo de rentar un auto, cenar en un restaurante mega caro (aunque rico, eso sí) y hacer el check in en el hotel.

En realidad el viaje a Cancún era para asistir a la boda de Mariana, la mejor amiga de Aline, pero fue el pretexto perfecto para conocer esos lugares. La boda era hasta el lunes, lo que nos dejaba libres el sábado y domingo. Desgraciadamente muy poco tiempo para conocer tantos lugares, así que lo aprovechamos lo mejor que pudimos. El sábado nos levantamos temprano, desayunamos y nos fuimos a<a href="http://en.wikipedia.org/wiki/Tulum"> Tulum</a>. Hermoso, irrealmente paradisiaco. El lugar más hermoso sobre este planeta. De todos los lugares a donde fuimos en estas vacaciones es el que más se me grabó en el alma. El mar es absolutamente hipnotizante. El aire y la vegetación junto con las ruinas sobre la tierra y la arena blanca de la playa le dan un toque mágico que te hace imaginar los tiempos cuando esta zona estaba poblada por sus habitantes originales. Debió se maravilloso vivir en un mundo así. Yo llevaba cargando a Tristán, quería cargarlo cuando viera por primera vez el mar. En algún momento, entre las ruinas, divisamos el mar azul y se lo señale a Tristán. No se que habrá pensado o si para el era igual de trascendente que para mi ese momento. Desde que llegamos a Tulum y comprábamos los boletos para entra a las ruinas arqueológicas comencé a sentir un imperioso deseo de ver el mar. Cada paso que nos acercaba cerca del mar hacia que fuera más grande e irresistible ese deseo. No se si la sangre llama, pero se lo que sentí y por eso cargué a Tristán, para que juntos sintieramos eso. Aline venía a mi lado, emocionada y feliz de estar ahí conmigo y con Tristán. Yo estaba más que feliz de estar ahí con ellos. Hasta ese momento no había comprendido la magnitud de esa visita. Finalmente llegamos a la orilla del mar. Y ahí, Tristán, Aline y yo contemplamos el mar milenario que tantos habían visto antes que yo. En el que tantos se habían sumergido regresado a la matriz del mundo. Definitivamente hay algo en el agua que encanta, que atrae. No aguanté más y sin esperar a los demás me bajé con Tristán las escaleras hasta la playa. Sentí la arena blanca tantas veces descrita. Tristán se empezó a poner nervioso con las olas, con la majestuosidad del mar. Cuando traté de ponerlo sobre la arena comenzó a llorar. Vimos las olas romper contra la arena, sentimos a arena, vimos el horizonte. Aline y sus papás llegaron y nos dispusimos a meternos al mar. Yo no lo pensé dos segundos y, nuevamente sin esperar a los demás, me metí al agua. ¡Oh maravilla! Volver a lo básico, a lo primitivo del hombre. A sus primeras experiencias con el mundo infinito, inabarcable e incomprensible, lleno de misterios y magia; cuando el hombre era más uno con el mundo que en esta época de aviones y compra de boletos a Cancún por internet. Salí por Tristán e intenté que se metiera al mar o que al menos se mojara los pies con las olas que llegaban a la playa. No hubo manera. ¡Vaya que es firme en sus decisiones este niño! Decidió que el mar era demasiado extraño para animarse. Lo cargué y me metí con él hasta que el agua le llegó a las rodillas mientras que yo lo cargaba. Lloraba asustado, así que lo regresé a la playa y se quedó ahí con sus abuelos jugando con la arena. Yo me quedé en el agua todo el tiempo. Aline me alcanzó. Pero el tiempo pasa muy rápido cuando eres feliz. Y llegó el momento de irnos. Me resistía a salir del agua, pero Cobá nos esperaba. Después de varios kilometros y un vuelta mal dado que nos llevo a visitar por accidente Yucatán, llegamos a la zona arqueológica de Cobá. Aline y yo subimos la pirámide Nohoch Mul, que es la principal de Cobá. Una vista impresionante desde arriba. Tomamos fotos, nos sentamos, entramos. También tomé 5 piedritas de la cima de la pirámide como gesto simbólico de la toma de posesión de mis terruños. :) Y de los de Tristán también.

Ese día en la noche fuimos a conocer Playa del Carmen, que es donde nos estuvimos quedando. Cenamos y nos fuimos a dormir.

El domingo nos fuimos a Xel-Há. Muy bonito, muchas actividades, mucha comida y bebida. Mucho buceo con Aline. Bajar el rio buceando con ella es uno de esos momentos memorables. Tristán maravillado viendo iguanas, delfines, tucanes y peces. El clima maravilloso, la comida muy rica, el sol muy agradable. En la noche ya estábamos muy cansados y solamente llegamos a dormir al hotel. Al día siguiente era la boda.

Boda en lunes. Inusual. Se nos hizo tarde y no encontrábamos la iglesia, pero llegamos justo al medio día y al medio de la boda. Después la fiesta en una palapa al lado del mar de Cancún. No pudimos entrar al agua, ya que íbamos muy bien arregladitos. Tristán hasta corbata azul se puso. Después de la fiesta, de la que nos retiramos como a las 8 pm porque el viento al lado del mar estaba imposible de soportar y menos con Tristán saliendo de una gripe, nos fuimos a una plaza comercial muy peculiar llamada La Isla. Ahí, después de darle la obligatoria vuelta para ver las tiendas, cenamos fondue de queso y vino (aunque no tan bueno como los que hace Aline) en un restaurante italiano.

Ya solamente nos quedaba medio día en Cancún y queriamos aprovecharlo, así que el martes muy tempranos nos fuimos a la playa de Playa del Carmen. No tan bonita como Tulum, pero bonita. Tristán nuevamente no se acercó al agua. Solamente Aline y yo. Los papás de Aline y Tristán se quedaron en las sillas jugando en la arena.

Finalmente regresamos al hotel a arreglarnos y hacer el check out. Entregamos el auto y nos llevaron al aeropuerto. Esta vez Tristán pudo ver el avión todo el tiempo y se durmió durante el viaje lo cual fue un par de horas de tranquilidad para nosotros. Llegamos a la Ciudad de México a las 9 con tráfico y toda la cosa. Solamente llegamos a aventar las cosas y preparar nuevamente la maleta porque ahora seguía Puebla.

Salimos a las 6 am, después de dormir 5 horas. Llegamos Aline, Tristán, mi mamá y mi primo a las 10am del 24 de diciembre. Justo a tiempo para iniciar los preparativos de la fiesta que se avecinaba. Al día siguiente se bautizaba mi sobrino.Pero antes, el 24 comimos y cenamos muy rico. Al día siguiente fue el bautizo y luego más comida rica. Ya para entonces resentíamos el cansancio, así que el viernes nos dedicamos a descansar.

Pero el sábado nuevamente a las andadas, nos fuimos a visitar el pueblo del que son originarios mi familia. En medio de las montañas de la sierra negra de Puebla, fuimos a visitar la casa donde crecieron mi mamá y mis tios. Muy tranquilo, muy relajante y muy lejos del bullicio de la ciudad. Regresamos de noche por una carretera que aunque de día parecía muy bonita por los paisajes, por las noches es muy peligrosa, ya que está absolutamente sin señalización. De hecho hay puntos donde no sabes en que carril vas y solamente te guías por las luces de los demás automóviles o de plano, donde no hay automóviles, por los gritos asustados de Aline de que ya estábamos saliéndonos de la carretera. :)

Para entonces ya extrañábamos muchísimo nuestra propia cama. Tristán ya estaba harto de tanto viajar en coche y además el lunes regresaba yo a trabajar, así que el domingo al medio día tomamos camino nuevamente a la Ciudad de Mexico. Y para terminar con broche de oro estas vacaciones, con el cuerpo muerto de cansancio y con ganas de llegar y acostarnos, nuestra casa nos recibió con los brazos abiertos y un tiradero que exigía limpieza inmediata. Ni modo, a limpiar. Como a las 8 de la noche terminamos y nos pusimos a ver una película, tomarnos una cerveza y descansar lo poco que se pudiera de estas ajetreadas pero muy divertidas y memorables vacaciones antes de regresar a la rutina de siempre y al trabajo.
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/12/30/seaside-gemstones-kvm-and-debian-lenny-amd64/">Seaside, Gemstone/S, KVM and Debian Lenny Amd64</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-12-30T00:00:00-06:00" pubdate data-updated="true">Dec 30<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content">Here are the posts for using Seaside and Gemstone/S under KVM on Debian Lenny amd64:

<a title="Permanent Link to Goodbye VirtualBox, welcome KVM/virt-manager" rel="bookmark" href="../index.php/2008/11/22/goodbye-virtualbox-welcome-kvmvirt-manager/">Goodbye VirtualBox, welcome KVM/virt-manager</a>

<a title="Permanent Link to Create a Virtual Machine with Debian Etch amd64 on KVM with virt-manager" rel="bookmark" href="../index.php/2008/11/25/create-a-virtual-machine-with-debian-etch-amd64-on-kvm-with-virt-manager/">Create a Virtual Machine with Debian Etch amd64 on KVM with virt-manager</a>

<a title="Permanent Link to Install Gemstone/S 64 on a KVM virtual machine" rel="bookmark" href="../index.php/2008/11/27/install-gemstones-64-on-a-kvm-virtual-machine/">Install Gemstone/S 64 on a KVM virtual machine</a>

<a title="Permanent Link to Install Squeak/Seaside on a KVM virtual machine" rel="bookmark" href="../index.php/2008/11/27/install-squeakseaside-on-a-kvm-virtual-machine/">Install Squeak/Seaside on a KVM virtual machine</a>

<a title="Permanent Link to Development environment for Seaside" rel="bookmark" href="../index.php/2008/11/28/development-environment-for-seaside/">Development environment for Seaside</a>

Enjoy.
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/12/15/returning-to-wordpress/">Returning to WordPress</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-12-15T00:00:00-06:00" pubdate data-updated="true">Dec 15<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content">After giving MovableType a very long try, we finally decided to switch back to WordPress. We found some things we didn&#8217;t like:
<ul>
	<li>Not easy way to add a blogroll (it is just a link, man!)</li>
	<li>Slow workflow from login to publish post</li>
	<li>Few choices for themes</li>
	<li>Problems with the non-commercial/commercial/enterprise scheme of licensing</li>
	<li>Good plugins costs $$$</li>
</ul>
After using both, we think that, although MT is now an open source project, it needs more time to reach the usability and feature level of WP.
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/11/28/development-environment-for-seaside/">Development Environment for Seaside</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-28T00:00:00-06:00" pubdate data-updated="true">Nov 28<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content">This is my development environment for Seaside.

One virtual machine (vm1) is for Seaside over Squeak development. I work here most time, forwarding X to my host machine and testing the application by pointing to http://vm1:8080/seaside/myapp. Details <a href="http://miguel.leugim.com.mx/index.php/2008/11/27/install-squeakseaside-on-a-kvm-virtual-machine/" target="_self">here</a>.

The second machine (vm0) is for testing integration of my Seaside application on Gemstone/S 64. After loading my app to Gemstone I test the app by pointing to http://vm0:8080/seaside/myapp. Details <a href="http://miguel.leugim.com.mx/index.php/2008/11/27/install-gemstones-64-on-a-kvm-virtual-machine/" target="_self">here</a>.

Finally, in my host machine I have Debian GNU/Linux 5.0 amd64 (Lenny) for my every day work (writing docs, hearing music, watching videos, browsing internet, writing blog posts, IM, etc). Also, from my host machine I can fire the stress tools to test either the load capacity or the load balancing of the application.

<strong>Advantages</strong>:
<ul>
	<li>I start the virtual machines only when I need them.</li>
	<li>My host laptop boot time it is minimal.</li>
	<li>I don&#8217;t have to create a 32 bit <a href="https://alioth.debian.org/docman/view.php/30192/21/debian-amd64-howto.html">chroot</a> inside my laptop</li>
	<li>I have a clean 32 bit Debian and a clean 64 bit Debian for other uses</li>
	<li>I can test having the static content in a virtual machine and the application in other and use a proxy to redirect to the correct machine.</li>
	<li>I can test having my application behind a proxy</li>
	<li>I can test load balancing of my servers</li>
</ul>
<strong>Disadvantages</strong>:
<ul>
	<li>More machines to administer</li>
	<li>More configuration and setup involved</li>
	<li>You need a 64 bit machine and a decent amount of RAM and a capable CPU (I have 4GB RAM and a AMD Turion 64 X2 CPU)</li>
	<li>You need to be comfortable administering several machines</li>
</ul>
But, for me, it works. Maybe it can work for you too.
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/11/27/install-squeakseaside-on-a-kvm-virtual-machine/">Install Squeak/Seaside on a KVM Virtual Machine</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-27T00:00:00-06:00" pubdate data-updated="true">Nov 27<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><strong>Host Machine</strong>
Architecture: x86_64
Name: laptop
OS: Debian GNU/Linux 5.0 amd64 (Lenny)
<strong>Virtual Machine</strong>
Architecture: i386
Name: vm1
OS: Debian GNU/Linux 4.0 i386 (Etch)
<strong>Virtual Machine Software</strong>
GemTools 2.3
Seaside One Click Experience 2.8.3

Install the virtual machine following <a href="http://miguel.leugim.com.mx/index.php/2008/11/25/create-a-virtual-machine-with-debian-etch-amd64-on-kvm-with-virt-manager/" target="_self">this</a>
instructions. Be sure to select CPU Architecture: x86_64, but install a 32 bit OS.
After installation add the IP address assigned to the virtual machine to
/etc/hosts on the host machine.

I have only installed the Starndard System. That is, no X or desktop environment. Why, because I want to forward X and use my host machine as the X server.

In the virtual machine, install the package xbase-client. This package and its dependencies are the minimal packages necessary to forward X apps to another server. As root:

vm1:~# aptitude install xbase-clients

Now, log out and login again but with a different syntax. Instead of

miguel@laptop:~$ ssh vm1

Log in with the -X option enabled (you can make this option enabled always in .ssh/config. See the man page from ssh)

miguel@laptop:~$ ssh -X vm1

And proceed to download <a href="http://seaside.st/">Seaside</a> and the <a href="http://seaside.gemstone.com/downloads.html">GemTools</a>:

miguel@vm1:~$ wget http://www.seaside.st/distributions/Seaside-2.8.3.app.zip

miguel@vm1:~$ wget http://seaside.gemstone.com/squeak/GemTools-2.3.zip

Unzip them and try them.

Seaside:

miguel@vm1:~$ unzip Seaside-2.8.3.app.zip
miguel@vm1:~$ cd Seaside-2.8-578.app/
miguel@vm1:~/Seaside-2.8-578.app$ ./Seaside.sh

You should see the Seaside Squeak image open as a window on your host machine X server.

The same applies to the GemTools Squeak image. But before trying to connect to the remote Gemstone/S server, you must do some tasks:

1. Add the remote server IP to the virtual machine /etc/hosts. In my case I&#8217;m going to connect from vm1 to vm0 (the Gemstone/S server) so I added this line to vm1&#8217;s /etc/hosts:

192.168.122.137 vm0

2. You need to add

# Local services
gs64ldi         50377/tcp        # Gemstone netldi

to your virtual machine&#8217;s /etc/services file. This is because GemTools use this name instead of the port number to connect to Gemstone/S. If you don&#8217;t add this line, you must use the port number in the Login window of the GemTools image.
After doing this changes, unzip the GemTools and start the image:

miguel@vm1:~$ unzip GemTools-2.3.zip
miguel@vm1:~$ /home/miguel/GemTools-2.3.app/GemTools.sh

You must start the image using the full path to the script or the connection won&#8217;t work because of a softlink pointing to a nonexistant directory. In the Gemstone/S Login window from the GemTools image, write vm0 in the Stone section&#8217;s &#8220;!tcp@&#8221; parameter and in the Gem section&#8217;s &#8220;!tcp@&#8221; parameter. Make sure the Gemstone/S is running on your server and press the Login button. You shouldn&#8217;t have any problem.

These instructions are an adaptation from <a href="http://gemstonesoup.wordpress.com/2008/01/26/terse-guide-to-the-glass-tools/">Dale Henrichs</a> and <a href="http://programminggems.wordpress.com/2008/09/25/slice-5/">James Foster</a> ones.

There is something very important to have in mind. You are working ON THE REMOTE (virtual machine in this case) machine. You are ONLY viewing the graphics on the local X server. If you modify something, you&#8217;re modifying it in the remote machine. Also, the network address, this will be resolved from the perspective of the remote machine. Don&#8217;t forget it.

As you can see, by using a 64 bit KVM virtual machine on your x86_64 hardware with a 32 bit OS, you can run a squeak image on a 32bit squeak virtual machine without any problem. What is more, in the case of Debian, you don&#8217;t have to create a 32 bit chroot inside your amd64 installation. Very clean.

Enjoy.
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/11/27/install-gemstones-64-on-a-kvm-virtual-machine/">Install Gemstone/S 64 on a KVM Virtual Machine</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-27T00:00:00-06:00" pubdate data-updated="true">Nov 27<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content">This instructions are very similar to the slicehost setup from James Foster&#8217;s <a href="http://programminggems.wordpress.com/2008/09/05/setting-up-glass-on-slicehost/">post</a>, but this time on a KVM virtual machine.

<strong>Host Machine</strong>
Architecture: x86_64
Name: laptop
OS: Debian GNU/Linux 5.0 amd64 (Lenny)
<strong>Virtual Machine</strong>
Architecture: x86_64
Name: vm0
OS: Debian GNU/Linux 4.0 amd64 (Etch)
<strong>Virtual Machine Software</strong>
Gemstone/S 64 Web Edition 2.3

Install the virtual machine following <a href="http://miguel.leugim.com.mx/index.php/2008/11/25/create-a-virtual-machine-with-debian-etch-amd64-on-kvm-with-virt-manager/" target="_self">those</a> instructions. Add the IP address assigned to the virtual machine to /etc/hosts on the host machine. Log in to the virtual machine and, as root, add your normal user to the sudoers file

vm0:~# visudo

The last lines of the file should be like this:

# User privilege specification
root    ALL=(ALL) ALL
miguel  ALL=(ALL) ALL

Save changes and as normal user on the virtual machine, download Gemstone/S (Note: this instructions are identical to the ones from James Foster&#8217;s <a href="http://programminggems.wordpress.com/2008/09/05/setting-up-glass-on-slicehost/">post</a>);

miguel@vm0:~$ wget http://seaside.gemstone.com/scripts/installGemstone2.3-Linux.sh
miguel@vm0:~$ sh installGemstone2.3-Linux.sh

This will ask for your user password and then will download and install Gemstone/S 64 Web Edition to the virtual machine&#8217;s /opt/gemstone.

Reload your sysctl changes. Either running:

miguel@vm0:~$ sudo sysctl -p

or rebooting the virtual machine:

miguel@vm0:~$ sudo reboot

Log in again to the virtual machine if needed and execute:

miguel@vm0:~$ echo &#8220;SHR_PAGE_CACHE_SIZE_KB = 100000;&#8221; &gt;&gt; /opt/gemstone/product/seaside/data/system.conf

Start the start the Gemstone/S 64 Web Edition:

miguel@vm0:~$ source /opt/gemstone/product/seaside/defSeaside
miguel@vm0:~$ startGemstone
miguel@vm0:~$ startSeaside_Hyper 8080

And, from your host machine, test Seaside by pointing your web browser to:

http://vm0:8080/seaside

To stop Hyper press Ctrl+C and then stop Gemstone:

miguel@vm0:~$ stopGemstone

That&#8217;s all.
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/11/25/segundo-aniversario/">Segundo Aniversario</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-25T00:00:00-06:00" pubdate data-updated="true">Nov 25<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content">Hoy hace dos años me casé con Aline. <br />Hemos vivido muchas cosas que nos han hecho&nbsp; estar más juntos, más unidos. Nos hemos conocido más el uno al otro también. Hemos reido, llorado, bailado, jugado, comido, bebido, divertido como nunca antes lo habiamos hecho. Y eso es lo maravilloso de lo que tenemos: lo profundo de nuestra fusión, de la comprensión del otro que cada uno de nosotros ha descubierto. Eso nos hace fuertes y al mismo tiempo nos da seguridad. No sé como sean otras parejas, pero sé, con certeza absoluta, que esto es lo más maravilloso que me ha pasado.<br />Soy muy feliz con mi familia, con Aline y con Tristán y esta fecha conmemora el inicio de esa felicidad.<br /><br />
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/11/25/create-a-virtual-machine-with-debian-etch-amd64-on-kvm-with-virt-manager/">Create a Virtual Machine With Debian Etch Amd64 on KVM With Virt-manager</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-25T00:00:00-06:00" pubdate data-updated="true">Nov 25<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content">This is the way I create virtual machines using KVM and virt-manager on my Debian Lenny 64 bit laptop:
<ul>
	<li>I will create a 64 bit virtual machine</li>
	<li>I will install Debian Etch 64 bit</li>
	<li>I will install a Standard system. After installation I will install the required software as needed.</li>
	<li>The machine will have a dynamic growing image file.</li>
	<li>I will use the default network provided by virt-manager (see this). This means that:
<ul>
	<li>the laptop (the host machine) will get a second IP address (192.168.122.1) that will be the default router for the virtual machines</li>
	<li>the virtual machines will get addresses in the range 192.168.122.2 - 192.168.122.254</li>
</ul>
</li>
	<li>I will create a pair of ssh keys to log in to the machine without password</li>
</ul>
Here we go:

<strong>1. Make sure you have hardware virtualization enabled on your BIOS.</strong>
Search google for the instructions

<strong>2. Install KVM and virt-manager</strong>
Follow <a href="http://miguel.leugim.com.mx/index.php/2008/11/22/goodbye-virtualbox-welcome-kvmvirt-manager/" target="_self">this</a> instructions

<strong>3. Open virt-manager and connect to <em>localhost</em></strong>

<strong>4. Start the network if you don&#8217;t have it configured for autostart</strong>
On the <em>localhost</em> host machine, select &#8220;Details&#8221; and then the &#8220;Virtual networks&#8221; tab. Select the &#8220;default&#8221; network and press the &#8220;Start&#8221; button.

<strong>5. Create a new virtual machine</strong>
On the <em>localhost</em> host machine, select &#8220;New&#8221;

<strong>6. &#8220;Naming your virtual system&#8221; window</strong>
Name your virtual machine, for example kvm

<strong>7. &#8220;Choosing a virtualization method&#8221;</strong>
I don&#8217;t have Xen, so the &#8220;Paravirtualized&#8221; options is disabled.
With &#8220;Fully virtualized&#8221; you can emulate a wider range of CPU architectures. In this time we are only interested in the x86_64 architecture. So we choose CPU Architecture: x86_64 and Hypervisor: kvm.

<strong>8. &#8220;Choosing installation method&#8221;</strong>
Here we choose the source installation media. I have an ISO image file from Debian Etch amd64, but you can also use networks install trees over HTTP, FTP or NFS or directly boot with PXE from a network server. When you chose OS Type and OS Variant, virt-manager preselects sensible defaults for the virtual machine, like ACPI support. We choose OS Type: Linux and OS Variant: Debian Etch.

<strong>9. &#8220;Locating installation media&#8221;</strong>
If you selected local install media in the previous step, you must choose either the ISO image location or the CD-ROM/DVD device where the install media resides. If you chose another option in the previous step, this window will differ. Enter the correct parameters here.

<strong>10. &#8220;Assigning storage space&#8221;</strong>
We choose &#8220;Simple File&#8221; unless you want to use a spare disk partition for your virtual machine. Select the File Location where you want your virtual machine image to reside and select an appropriate File Size. I left the defaults untouched. Uncheck the option &#8220;Allocate entire virtual disk now?&#8221;. This way the disk will grow as needed, unless you run out of disk space in your host machine.

<strong>11. &#8220;Connect to host network&#8221;</strong>
Unless you know what you are doing, do like me and choose &#8220;Virtual Network&#8221;. Select the &#8220;default&#8221; network from the list.

<strong>12. &#8220;Allocate memory and CPU&#8221;</strong>
Select the amount of RAM that you want to assign to the virtual machine. I wrote 256M both for VM Max Memory and VM Startup Memory. For VCPU choose the number of CPUs for the virtual machine. I chose 1 VCPU.

The image will be created and the virtual machine will boot up. By default virt-manager doesn&#8217;t open a VNC connection to the newly created machine. Double click the machine from the list below <em>localhost</em> to open it.
Follow the installation as always. Create a normal user (I created a user named miguel) and in the window titled &#8220;Software Selection&#8221; select the packages you want to install (I only left &#8220;Standard system&#8221; selected; after install you can install more software with aptitude). When the installation is over, it will reboot and you should log in without problems. As root check the IP assigned by the KVM DHCP. Mine has 192.168.122.137.
Now, in your host machine, add a new line for the virtual machine to your /etc/hosts. This is mine:

127.0.0.1    localhost
127.0.1.1    laptop.localdomain    laptop
192.168.122.137    kvm

Save it and check that you can reach the virtual machine.

# ping kvm

should respond the pings.

Now, as the normal user from the host machine, create a pair of keys. Accept the default path for the keys and leave the passphrase empty.

miguel@laptop:~$ ssh-keygen
Generating public/private rsa key pair.
Enter file in which to save the key (/home/miguel/.ssh/id_rsa):
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /home/miguel/.ssh/id_rsa.
Your public key has been saved in /home/miguel/.ssh/id_rsa.pub.
The key fingerprint is:
70:b5:bf:39:e4:4d:14:1d:ad:c6:f0:1f:c7:8f:26:15 miguel@laptop

This should have created 2 files inside .ssh/ in your home directory: id_rsa and id_rsa.pub
Now copy your identity to the virtual machine:

miguel@laptop:~$ ssh-copy-id kvm
miguel@kvm&#8217;s password:

Write your password and the key will be copied to the virtual machine. Test that you can log in without password:

miguel@laptop:~$ ssh kvm
Linux kvm 2.6.18-6-amd64 #1 SMP Wed Oct 15 10:07:11 UTC 2008 x86_64

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
Last login: Tue Nov 25 16:08:19 2008 from laptop
miguel@kvm:~$

There you have it. A virtual machine running from KVM, with hardware virtualization, a minimal install and that you can log in without password.

You can also create a virtual machine and host a 32 bit OS. Just follow the previous steps but instead of installing from a Debian Etch amd64 ISO image, install from a Debian Etch i386 ISO image. That is, select a 64 bit virtual machine but install a 32 bit OS. This works for any operating system.

Of course you can choose CPU Architecture: i686, but the only hypervisor available will be qemu that will emulate by software (instead of doing hardware virtualization) the i386 (or sparc or ppc) architecture. This can be potentially slower than hardware virtualization.

Enjoy!
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/11/22/laptop-upgraded-to-debian-lenny/">Laptop Upgraded to Debian Lenny</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-22T00:00:00-06:00" pubdate data-updated="true">Nov 22<span>nd</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content">I couldn&#8217;t wait for the official Debian Lenny release because there were several packages from Lenny that I wanted right now:

- Kernel 2.8.26 that includes support for my Broadcom <a href="http://miguel.leugim.com.mx/index.php/2008/04/20/linux-kernel-powered-wireless-card/" target="_self">wireless card</a>.
- KVM, so I could use it instead of <a href="http://miguel.leugim.com.mx/index.php/2008/02/22/virtualbox-ose-on-debian-gnulinux-amd64/" target="_self">VirtualBox</a>.
- Pidgin, instead of Gaim
- OpenJDK, so I could replace the <a href="http://miguel.leugim.com.mx/index.php/2007/03/01/sun-java-5-en-debian-etch/" target="_self">sun-java5-jdk</a> that I have been using
- Improved NetworkManager capabilities
- Iceweasel (Firefox) 3.0.3
- Native Adobe Flash Player (swfdec-gnome)
- The brand new Adoble Flash Player 64 bits

So, I updated my <a href="http://miguel.leugim.com.mx/index.php/2007/08/08/instalando-debian-gnulinux-40-en-hp-dv6420la/" target="_self">laptop</a> this way:

1. With the current setup, update the system

# aptitude update &amp;&amp; aptitude upgrade

2. After having an Etch distro fully updated, I changed all the references to etch or stable in /etc/apt/sources.list to lenny. My sources.list is now:

# Debian lenny
deb http://mirrors.kernel.org/debian/ lenny main contrib non-free

deb http://security.debian.org/ lenny/updates main contrib
deb-src http://security.debian.org/ lenny/updates main contrib

3. I did the dist-upgrade to lenny

# aptitude update &amp;&amp; aptitude dist-upgrade

This downloaded 1.5GB of packages from debian repositories and after a couple of hours the upgrade was over. Now I am writing this from my shinny new Debian GNU/Linux 5.0 (Lenny). BTW, the new look &amp; feel it is pretty cool.
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/6/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/4/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/02/20/time/">Time</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/05/05/sicp/">SICP</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/03/20/stop-the-radiation-misinformation/">Stop the Radiation Misinformation</a>
      </li>
    
      <li class="post">
        <a href="/blog/2010/11/19/ilustradores-para-el-ejemplar-1-de-revista-orsai/">Ilustradores Para El Ejemplar #1 De Revista Orsai</a>
      </li>
    
      <li class="post">
        <a href="/blog/2010/11/13/groovy-grails-tutorials/">Groovy & Grails Tutorials</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/miguelcoba">@miguelcoba</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'miguelcoba',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Miguel Cobá -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
